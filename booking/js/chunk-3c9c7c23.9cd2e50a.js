(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3c9c7c23"],{"049b":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"a",(function(){return c})),a.d(e,"c",(function(){return i}));var o=a("1bab");function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(o["a"])({url:"/vue/VueProjectData/vantmachine/getbookings.php",params:{page:t,time:e}})}function c(t){return Object(o["a"])({url:"/vue/VueProjectData/vantmachine/booking.php",params:{data:t}})}function i(t,e){return Object(o["a"])({url:"/vue/VueProjectData/vantmachine/updatebooking.php",params:{id:t,statu:e}})}},"0bfa":function(t,e,a){"use strict";a("8a3b")},"825c":function(t,e,a){"use strict";a.r(e);var o,n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"ubscribe"}},[o("van-nav-bar",{staticClass:"nav",attrs:{title:"预约","left-text":"返回","right-text":"按钮","left-arrow":""},on:{"click-right":t.onClickRight,"click-left":t.onClickLeft}}),o("div",{staticClass:"van-cell-box"},[o("van-cell-group",{style:{background:"#f1f1f1"}},[o("div",{staticClass:"top10box"},[o("van-field",{attrs:{label:"机器名称",value:t.machine.machinename,readonly:""}}),o("van-field",{attrs:{label:"机器编号",value:t.machine.machinenum,readonly:""}}),o("van-cell",{attrs:{title:"选择日期",value:t.date},on:{click:function(e){t.show=!0}}}),o("van-calendar",{on:{confirm:t.onConfirm},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}}),o("van-cell",{attrs:{title:"选择时间",value:t.currentTime},on:{click:t.showPopup}}),o("van-field",{attrs:{"is-link":"",readonly:"",label:"地区",placeholder:"请选择所在地区"},on:{click:function(e){t.cshow=!0}},model:{value:t.fieldValue,callback:function(e){t.fieldValue=e},expression:"fieldValue"}}),o("van-popup",{attrs:{round:"",position:"bottom"},model:{value:t.cshow,callback:function(e){t.cshow=e},expression:"cshow"}},[o("van-cascader",{attrs:{title:"请选择所在地区",options:t.options},on:{close:function(e){t.cshow=!1},finish:t.onFinish},model:{value:t.cascaderValue,callback:function(e){t.cascaderValue=e},expression:"cascaderValue"}})],1)],1),o("div",{staticClass:"top10box"},[o("van-field",{attrs:{label:"联系人",placeholder:"请输入联系人"},model:{value:t.bookingObj["contact"],callback:function(e){t.$set(t.bookingObj,"contact",e)},expression:"bookingObj['contact']"}}),o("van-field",{attrs:{label:"联系人电话",placeholder:"请输入联系人电话"},model:{value:t.bookingObj["telephone"],callback:function(e){t.$set(t.bookingObj,"telephone",e)},expression:"bookingObj['telephone']"}}),o("van-field",{attrs:{label:"产品名称",placeholder:"请输入产品名称"},model:{value:t.bookingObj["productname"],callback:function(e){t.$set(t.bookingObj,"productname",e)},expression:"bookingObj['productname']"}})],1),o("div",{staticClass:"top10box"},[o("van-field",{attrs:{rows:"2",autosize:"",label:"备注",type:"textarea",maxlength:"50",placeholder:"请输入留言","show-word-limit":""},model:{value:t.bookingObj["bookmark"],callback:function(e){t.$set(t.bookingObj,"bookmark",e)},expression:"bookingObj['bookmark']"}})],1)])],1),o("div",{staticClass:"btn-box"},[o("van-button",{style:{width:"90%"},attrs:{type:"primary",color:"#516df5"},on:{click:t.bookingClick}},[t._v("预约")])],1),o("van-dialog",{attrs:{"show-cancel-button":"",confirmButtonText:"完成",confirmButtonColor:"#80c269",cancelButtonColor:"#ccc"},on:{confirm:t.dconfirm},model:{value:t.dshow,callback:function(e){t.dshow=e},expression:"dshow"}},[o("div",{staticClass:"show-cancel-box"},[o("img",{attrs:{src:a("ad3a")}}),o("h3",[t._v("预约成功")]),o("p",[t._v("您的预定已经确认")])])]),o("van-popup",{style:{height:"50%"},attrs:{position:"bottom"},model:{value:t.pshow,callback:function(e){t.pshow=e},expression:"pshow"}},[o("van-datetime-picker",{attrs:{type:"time",title:"选择时间","min-hour":0,"max-hour":23},on:{confirm:t.confirm,cancel:t.cancel},model:{value:t.currentTime,callback:function(e){t.currentTime=e},expression:"currentTime"}})],1)],1)},c=[],i=a("ade3"),s=(a("ef21"),a("8f74")),r=(a("133d"),a("2f77")),l=(a("64e4"),a("f4dc")),u=(a("7ca7"),a("4b4c")),b=(a("1845"),a("f309")),d=(a("543d"),a("7a1c")),h=(a("2760"),a("03b8")),f=(a("dcc3"),a("96ed")),m=(a("db46"),a("1451")),p=(a("15bd"),a("9975")),v=(a("b0c0"),a("99af"),a("a15b"),a("d81d"),a("049b")),k={name:"Subscribe",components:(o={},Object(i["a"])(o,p["a"].name,p["a"]),Object(i["a"])(o,m["a"].name,m["a"]),Object(i["a"])(o,f["a"].name,f["a"]),Object(i["a"])(o,h["a"].name,h["a"]),Object(i["a"])(o,d["a"].name,d["a"]),Object(i["a"])(o,b["a"].name,b["a"]),Object(i["a"])(o,u["a"].name,u["a"]),Object(i["a"])(o,l["a"].name,l["a"]),Object(i["a"])(o,r["a"].name,r["a"]),Object(i["a"])(o,s["a"].Component.name,s["a"].Component),o),data:function(){return{options:[{text:"广东省",value:"330000",children:[{text:"广州市",value:"320100"},{text:"肇庆市",value:"320200",children:[{text:"高要区",value:"320300"}]}]},{text:"台湾省",value:"320000",children:[{text:"高雄市",value:"320100"},{text:"台北市",value:"320300"}]}],currentTime:"12:00",date:"",show:!1,cshow:!1,pshow:!1,fieldValue:"",cascaderValue:"",dshow:!1,bookingObj:{contact:"",telephone:"",productname:"",bookmark:"",bookingDate:"",bookingTime:"",address:"",machineid:""},machine:""}},methods:{onClickRight:function(){this.$Toast("按钮")},onClickLeft:function(){this.$Toast("返回"),this.$router.go(-1)},formatDate:function(t){return 13==t.getDate()&&this.$Toast("预约满了"),"".concat(t.getMonth()+1,"/").concat(t.getDate())},onConfirm:function(t){this.show=!1,this.date=this.formatDate(t),this.bookingObj["bookingDate"]=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate(),console.log(this.date)},bookingClick:function(){var t=this;Object(v["a"])(this.bookingObj).then((function(e){0==e.status?t.dshow=!0:t.$Toast(e.message),console.log(e)}))},showPopup:function(){this.pshow=!0},confirm:function(){this.bookingObj["bookingTime"]=this.currentTime,console.log(this.currentTime),this.pshow=!1},cancel:function(){console.log("取消"),this.pshow=!1},onFinish:function(t){var e=t.selectedOptions;this.cshow=!1,this.fieldValue=e.map((function(t){return t.text})).join("/"),this.bookingObj.address=this.fieldValue},dconfirm:function(){this.$router.push("category").catch((function(t){}))}},created:function(){this.machine=JSON.parse(localStorage.getItem("machine")),this.bookingObj.machineid=this.machine.id,console.log(this.machine)}},g=k,j=(a("0bfa"),a("2877")),w=Object(j["a"])(g,n,c,!1,null,"6924e7d4",null);e["default"]=w.exports},"8a3b":function(t,e,a){},a15b:function(t,e,a){"use strict";var o=a("23e7"),n=a("e330"),c=a("44ad"),i=a("fc6a"),s=a("a640"),r=n([].join),l=c!=Object,u=s("join",",");o({target:"Array",proto:!0,forced:l||!u},{join:function(t){return r(i(this),void 0===t?",":t)}})},a640:function(t,e,a){"use strict";var o=a("d039");t.exports=function(t,e){var a=[][t];return!!a&&o((function(){a.call(null,e||function(){return 1},1)}))}},ad3a:function(t,e,a){t.exports=a.p+"img/yuyue.c207557c.svg"},b727:function(t,e,a){var o=a("0366"),n=a("e330"),c=a("44ad"),i=a("7b0b"),s=a("07fa"),r=a("65f0"),l=n([].push),u=function(t){var e=1==t,a=2==t,n=3==t,u=4==t,b=6==t,d=7==t,h=5==t||b;return function(f,m,p,v){for(var k,g,j=i(f),w=c(j),x=o(m,p),O=s(w),C=0,y=v||r,T=e?y(f,O):a||d?y(f,0):void 0;O>C;C++)if((h||C in w)&&(k=w[C],g=x(k,C,j),t))if(e)T[C]=g;else if(g)switch(t){case 3:return!0;case 5:return k;case 6:return C;case 2:l(T,k)}else switch(t){case 4:return!1;case 7:l(T,k)}return b?-1:n||u?u:T}};t.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},d81d:function(t,e,a){"use strict";var o=a("23e7"),n=a("b727").map,c=a("1dde"),i=c("map");o({target:"Array",proto:!0,forced:!i},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-3c9c7c23.9cd2e50a.js.map