(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4432f6bc"],{"1af3":function(t,e,i){"use strict";var n=i("c74c"),a=i("0dec"),s=i("4bb9"),c=i("3681"),o=i("c2fa"),r=i("52c5"),u=Object(n["a"])("rate"),l=u[0],h=u[1];function f(t,e,i){return t>=e?"full":t+.5>=e&&i?"half":"void"}e["a"]=l({mixins:[c["a"],o["a"]],props:{size:[Number,String],color:String,gutter:[Number,String],readonly:Boolean,disabled:Boolean,allowHalf:Boolean,voidColor:String,iconPrefix:String,disabledColor:String,value:{type:Number,default:0},icon:{type:String,default:"star"},voidIcon:{type:String,default:"star-o"},count:{type:[Number,String],default:5},touchable:{type:Boolean,default:!0}},computed:{list:function(){for(var t=[],e=1;e<=this.count;e++)t.push(f(this.value,e,this.allowHalf));return t},sizeWithUnit:function(){return Object(a["a"])(this.size)},gutterWithUnit:function(){return Object(a["a"])(this.gutter)}},mounted:function(){this.bindTouchEvent(this.$el)},methods:{select:function(t){this.disabled||this.readonly||t===this.value||(this.$emit("input",t),this.$emit("change",t))},onTouchStart:function(t){var e=this;if(!this.readonly&&!this.disabled&&this.touchable){this.touchStart(t);var i=this.$refs.items.map((function(t){return t.getBoundingClientRect()})),n=[];i.forEach((function(t,i){e.allowHalf?n.push({score:i+.5,left:t.left},{score:i+1,left:t.left+t.width/2}):n.push({score:i+1,left:t.left})})),this.ranges=n}},onTouchMove:function(t){if(!this.readonly&&!this.disabled&&this.touchable&&(this.touchMove(t),"horizontal"===this.direction)){Object(s["c"])(t);var e=t.touches[0].clientX;this.select(this.getScoreByPosition(e))}},getScoreByPosition:function(t){for(var e=this.ranges.length-1;e>0;e--)if(t>this.ranges[e].left)return this.ranges[e].score;return this.allowHalf?.5:1},genStar:function(t,e){var i,n=this,a=this.$createElement,s=this.icon,c=this.color,o=this.count,u=this.voidIcon,l=this.disabled,f=this.voidColor,d=this.disabledColor,m=e+1,v="full"===t,p="void"===t;return this.gutterWithUnit&&m!==+o&&(i={paddingRight:this.gutterWithUnit}),a("div",{ref:"items",refInFor:!0,key:e,attrs:{role:"radio",tabindex:"0","aria-setsize":o,"aria-posinset":m,"aria-checked":String(!p)},style:i,class:h("item")},[a(r["a"],{attrs:{size:this.sizeWithUnit,name:v?s:u,color:l?d:v?c:f,classPrefix:this.iconPrefix,"data-score":m},class:h("icon",{disabled:l,full:v}),on:{click:function(){n.select(m)}}}),this.allowHalf&&a(r["a"],{attrs:{size:this.sizeWithUnit,name:p?u:s,color:l?d:p?f:c,classPrefix:this.iconPrefix,"data-score":m-.5},class:h("icon",["half",{disabled:l,full:!p}]),on:{click:function(){n.select(m-.5)}}})])}},render:function(){var t=this,e=arguments[0];return e("div",{class:h({readonly:this.readonly,disabled:this.disabled}),attrs:{tabindex:"0",role:"radiogroup"}},[this.list.map((function(e,i){return t.genStar(e,i)}))])}})},"1c54":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return s})),i.d(e,"a",(function(){return c}));var n=i("1bab");function a(){return Object(n["a"])({url:"/vue/VueProjectData/vantmachine/machine.php"})}function s(t,e){return Object(n["a"])({url:"/vue/VueProjectData/vantmachine/updatestatus.php",params:{statu:t,id:e}})}function c(t){return Object(n["a"])({url:"/vue/VueProjectData/vantmachine/addmachine.php",params:{info:t}})}},2694:function(t,e,i){},3494:function(t,e,i){},"408a":function(t,e,i){var n=i("e330");t.exports=n(1..valueOf)},"44b7":function(t,e,i){},"4d09":function(t,e,i){"use strict";i("f604")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var n=i("e330"),a=i("1d80"),s=i("577e"),c=i("5899"),o=n("".replace),r="["+c+"]",u=RegExp("^"+r+r+"*"),l=RegExp(r+r+"*$"),h=function(t){return function(e){var i=s(a(e));return 1&t&&(i=o(i,u,"")),2&t&&(i=o(i,l,"")),i}};t.exports={start:h(1),end:h(2),trim:h(3)}},"6f6f":function(t,e,i){t.exports=i.p+"img/jiqi.95fb0493.svg"},"7ec6":function(t,e,i){},"8dd0":function(t,e,i){"use strict";i("5dc8"),i("8b6b"),i("a887"),i("7ec6")},a9e3:function(t,e,i){"use strict";var n=i("83ab"),a=i("da84"),s=i("e330"),c=i("94ca"),o=i("6eeb"),r=i("1a2d"),u=i("7156"),l=i("3a9b"),h=i("d9b5"),f=i("c04e"),d=i("d039"),m=i("241c").f,v=i("06cf").f,p=i("9bf2").f,b=i("408a"),g=i("58a8").trim,k="Number",_=a[k],y=_.prototype,C=a.TypeError,x=s("".slice),w=s("".charCodeAt),S=function(t){var e=f(t,"number");return"bigint"==typeof e?e:I(e)},I=function(t){var e,i,n,a,s,c,o,r,u=f(t,"number");if(h(u))throw C("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=g(u),e=w(u,0),43===e||45===e){if(i=w(u,2),88===i||120===i)return NaN}else if(48===e){switch(w(u,1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+u}for(s=x(u,2),c=s.length,o=0;o<c;o++)if(r=w(s,o),r<48||r>a)return NaN;return parseInt(s,n)}return+u};if(c(k,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var N,O=function(t){var e=arguments.length<1?0:_(S(t)),i=this;return l(y,i)&&d((function(){b(i)}))?u(Object(e),i,O):e},j=n?m(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),M=0;j.length>M;M++)r(_,N=j[M])&&!r(O,N)&&p(O,N,v(_,N));O.prototype=y,y.constructor=O,o(a,k,O)}},ae85:function(t,e,i){"use strict";i("44b7")},c228:function(t,e,i){"use strict";i.r(e);var n,a,s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"cart"}},[i("van-nav-bar",{staticClass:"nav",attrs:{title:"机器列表","right-text":"新增机器"},on:{"click-right":t.onClickRight}}),i("div",{staticClass:"cart-vant-box"},[i("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad}},[i("machine-content",{attrs:{"machines-arr":t.machines}})],1)],1)],1)},c=[],o=i("2909"),r=i("ade3"),u=(i("efff"),i("526a")),l=(i("15bd"),i("9975")),h=(i("b0c0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"machine-content"},[t._l(t.machinesArrs,(function(e,n){return i("machine-item",{key:n,attrs:{index:n,machine:e},on:{machineClick:t.machineClick}})})),i("van-overlay",{attrs:{show:t.show},on:{click:function(e){t.show=!1}}},[i("div",{staticClass:"wrapper",on:{click:function(t){t.stopPropagation()}}},[i("div",{staticClass:"block"},[i("ul",[i("li",[t._v("机器编号:"),i("span",[t._v(t._s(t.oneMachineInfo.machinenum))])]),i("li",[t._v("机器名称:"),i("span",[t._v(t._s(t.oneMachineInfo.machinename))])]),i("li",[t._v("开始时间:"),i("span",[t._v(t._s(t.oneMachineInfo.begintime))])]),i("li",[t._v("预计时间:"),i("span",[t._v(t._s(t.oneMachineInfo.predictTime))])]),i("li",[t._v("所需时间:"),i("span",[t._v(t._s(t.oneMachineInfo.time))])]),i("li",[t._v("机器工作状态:"),i("span",[t._v(t._s(t.statusText[t.oneMachineInfo.status]))])]),i("li",[t._v("机器是否启用："),i("span",[i("van-switch",{attrs:{size:"12px"},on:{click:t.switchClick},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}})],1)]),i("li",[t._v("描述："),i("p",[t._v(t._s(t.oneMachineInfo.remarks))])])]),i("div",{staticClass:"button-box"},[i("van-button",{staticClass:"close",style:{marginRight:"20px"},attrs:{type:"primary",plain:"",color:"#516df5"},on:{click:t.quxiao}},[t._v("关闭")]),i("van-button",{staticClass:"close",attrs:{type:"primary",color:"#516df5"},on:{click:t.appointmentClick}},[t._v("预约")])],1)])])]),i("van-popup",{style:{height:"20%"},attrs:{closeable:"",position:"bottom"},model:{value:t.showp,callback:function(e){t.showp=e},expression:"showp"}},[i("div",{staticClass:"propup-box"},[i("div",{staticClass:"btn-box"},[i("van-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.showClick}},[t._v("查看详情")])],1),i("div",{staticClass:"btn-box"},[i("van-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.bookingClick}},[t._v("预约")])],1)])])],2)}),f=[],d=(i("7ca7"),i("4b4c")),m=(i("5dc8"),i("0cec"),i("3494"),i("c74c")),v=i("0dec"),p={size:[Number,String],value:null,loading:Boolean,disabled:Boolean,activeColor:String,inactiveColor:String,activeValue:{type:null,default:!0},inactiveValue:{type:null,default:!1}},b=i("c2fa"),g=i("a02c"),k=Object(m["a"])("switch"),_=k[0],y=k[1],C=_({mixins:[b["a"]],props:p,computed:{checked:function(){return this.value===this.activeValue},style:function(){return{fontSize:Object(v["a"])(this.size),backgroundColor:this.checked?this.activeColor:this.inactiveColor}}},methods:{onClick:function(t){if(this.$emit("click",t),!this.disabled&&!this.loading){var e=this.checked?this.inactiveValue:this.activeValue;this.$emit("input",e),this.$emit("change",e)}},genLoading:function(){var t=this.$createElement;if(this.loading){var e=this.checked?this.activeColor:this.inactiveColor;return t(g["a"],{class:y("loading"),attrs:{color:e}})}}},render:function(){var t=arguments[0],e=this.checked,i=this.loading,n=this.disabled;return t("div",{class:y({on:e,loading:i,disabled:n}),attrs:{role:"switch","aria-checked":String(e)},style:this.style,on:{click:this.onClick}},[t("div",{class:y("node")},[this.genLoading()])])}}),x=(i("133d"),i("2f77")),w=(i("1845"),i("f309")),S=(i("b178"),i("a407")),I=(i("e9c4"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"machine-item",class:t.mStaus.className,on:{click:t.machineClick}},[n("img",{staticClass:"uimg",attrs:{src:i("6f6f")}}),n("div",{staticClass:"info-box-x"},[n("div",[t._v("机器编号："),n("span",{staticClass:"num"},[t._v(t._s(t.machine.machinenum))])]),n("div",[t._v("机器名称："),n("span",[t._v(t._s(t.machine.machinename))])]),n("div",[t._v("工作状态："),n("span",[n("font",{attrs:{color:t.mStaus.color}},[t._v(t._s(t.mStaus.statusType))])],1)]),n("div",[t._v("是否启用："),n("span",[t._v(t._s(t.useText))])]),n("div",[t._v("所需时间："),n("span",[t._v(t._s(t.machine.time))])]),n("div",[t._v("出品质量："),n("span",[n("van-rate",{attrs:{readonly:""},model:{value:t.machine.stars,callback:function(e){t.$set(t.machine,"stars",e)},expression:"machine.stars"}})],1)])])])}),N=[],O=(i("8dd0"),i("1af3")),j=(i("a9e3"),{name:"MachineItem",components:Object(r["a"])({},O["a"].name,O["a"]),methods:{machineClick:function(){this.machine.index=this.index,this.$emit("machineClick",this.machine)}},data:function(){return{stars:0}},props:{machine:{type:Object,default:function(){return{}}},index:{type:Number,default:0}},computed:{mStaus:function(){var t={statusType:"空闲",className:"free",color:"red"};return 0==this.machine.status?(t.statusType="空闲",t.className="free",t.color="green"):1==this.machine.status?(t.statusType="忙碌",t.className="working",t.color="#b75d00"):(t.statusType="准备完成",t.className="on-ready",t.color="blue"),t},useText:function(){return 0==this.machine.isuse?"停用":"启用"}},created:function(){this.machine.stars=1*this.machine.stars}}),M=j,T=(i("c3c5"),i("2877")),E=Object(T["a"])(M,I,N,!1,null,"1d6ed7d4",null),$=E.exports,A=i("1c54"),F={name:"MachineContent",components:(n={MachineItem:$},Object(r["a"])(n,S["a"].name,S["a"]),Object(r["a"])(n,w["a"].name,w["a"]),Object(r["a"])(n,x["a"].name,x["a"]),Object(r["a"])(n,C.name,C),Object(r["a"])(n,d["a"].name,d["a"]),n),data:function(){return{show:!1,showp:!1,oneMachineInfo:{},minDate:new Date(2020,0,1),maxDate:new Date(2025,10,1),currentDate:new Date,timeShow:!1,statusText:["空闲","忙碌","准备完成"],checked:!0,switchArr:["停用","启用"],index:0}},props:{machinesArr:{type:Array,default:function(){return[]}}},methods:{quxiao:function(){this.show=!1},machineClick:function(t){0==t.isuse&&this.$Toast("抱歉，该机器维护中"),this.showp=!0,this.checked=0!=t.isuse,this.oneMachineInfo=t,localStorage.setItem("machine",JSON.stringify(t)),this.mindex=t.index},changes:function(t){console.log(t)},switchClick:function(){var t=this.checked?0:1;this.machinesArr[this.mindex].isuse=t,Object(A["c"])(t,this.oneMachineInfo.id).then((function(t){console.log(t)})),this.$Toast(this.switchArr[t])},appointmentClick:function(){console.log("预约"),this.$router.push({name:"subscribe",params:{machine:this.oneMachineInfo}}).catch((function(t){}))},showPopup:function(){this.showp=!0},showClick:function(){this.show=!0,this.showp=!1},bookingClick:function(){this.$router.push({name:"subscribe",params:{machine:this.oneMachineInfo}}).catch((function(t){}))}},computed:{machinesArrs:function(){return this.machinesArr}},watch:{checked:function(){}}},D=F,P=(i("ae85"),Object(T["a"])(D,h,f,!1,null,"68a70236",null)),z=P.exports,V={name:"Cart",components:(a={},Object(r["a"])(a,l["a"].name,l["a"]),Object(r["a"])(a,u["a"].name,u["a"]),Object(r["a"])(a,"MachineContent",z),a),data:function(){return{list:[],loading:!1,finished:!1,machines:[]}},methods:{onClickRight:function(){this.$router.push("machine").catch((function(t){}))},onLoad:function(){var t=this;setTimeout((function(){for(var e=0;e<10;e++)t.list.push(t.list.length+1);t.loading=!1,t.list.length>=40&&(t.finished=!0)}),1e3)},getMachine:function(){var t=this;Object(A["b"])().then((function(e){var i;(i=t.machines).push.apply(i,Object(o["a"])(e))}))}},mounted:function(){this.getMachine()}},B=V,R=(i("4d09"),Object(T["a"])(B,s,c,!1,null,"edf787ac",null));e["default"]=R.exports},c2fa:function(t,e,i){"use strict";i.d(e,"a",(function(){return n}));var n={inject:{vanField:{default:null}},watch:{value:function(){var t=this.vanField;t&&(t.resetValidation(),t.validateWithTrigger("onChange"))}},created:function(){var t=this.vanField;t&&!t.children&&(t.children=this)}}},c3c5:function(t,e,i){"use strict";i("2694")},e9c4:function(t,e,i){var n=i("23e7"),a=i("da84"),s=i("d066"),c=i("2ba4"),o=i("e330"),r=i("d039"),u=a.Array,l=s("JSON","stringify"),h=o(/./.exec),f=o("".charAt),d=o("".charCodeAt),m=o("".replace),v=o(1..toString),p=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,g=/^[\uDC00-\uDFFF]$/,k=function(t,e,i){var n=f(i,e-1),a=f(i,e+1);return h(b,t)&&!h(g,a)||h(g,t)&&!h(b,n)?"\\u"+v(d(t,0),16):t},_=r((function(){return'"\\udf06\\ud834"'!==l("\udf06\ud834")||'"\\udead"'!==l("\udead")}));l&&n({target:"JSON",stat:!0,forced:_},{stringify:function(t,e,i){for(var n=0,a=arguments.length,s=u(a);n<a;n++)s[n]=arguments[n];var o=c(l,null,s);return"string"==typeof o?m(o,p,k):o}})},f604:function(t,e,i){}}]);
//# sourceMappingURL=chunk-4432f6bc.8265ddaf.js.map