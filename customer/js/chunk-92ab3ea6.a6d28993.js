(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-92ab3ea6"],{"2bc5":function(t,e,n){"use strict";n("7592")},"462e":function(t,e,n){"use strict";n("7928")},"47c9":function(t,e,n){"use strict";n.d(e,"f",(function(){return u})),n.d(e,"g",(function(){return a})),n.d(e,"a",(function(){return i})),n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return r})),n.d(e,"i",(function(){return d})),n.d(e,"h",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return p}));var c=n("1bab");function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(c["a"])({url:"/vuedata/product.php",params:{keywords:t,page:e,time:n}})}function a(t){return Object(c["a"])({url:"/vuedata/productdetail.php",params:{id:t}})}function i(t){return Object(c["a"])({url:"/vuedata/addProduct.php",params:{product:t}})}function o(){return Object(c["a"])({url:"/vuedata/allproduct.php",params:{}})}function r(t){return Object(c["a"])({url:"/vuedata/addProductNeed.php",params:{product:t}})}function d(t){return Object(c["a"])({url:"/vuedata/updateProductNeed.php",params:{product:t}})}function s(t){return Object(c["a"])({url:"/vuedata/updateProduct.php",params:{product:t}})}function l(t){return Object(c["a"])({url:"/vuedata/deleteProductNeed.php",params:{product:t}})}function p(t){return Object(c["a"])({url:"/vuedata/deleteProduct.php",params:{id:t}})}},"4ba7":function(t,e,n){"use strict";n.r(e);var c,u,a,i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"product"}},[n("van-nav-bar",{staticClass:"product-nav",attrs:{title:"产品管理"}}),n("search-box",{on:{changeKeys:t.changeKeys,searchclick:t.searchclick}}),n("product-content",{attrs:{"product-list":t.currentProduct},on:{onLoad:t.onLoad,updateClick:t.updateClick,deleteClick:t.deleteClick}})],1)},o=[],r=n("2909"),d=n("ade3"),s=(n("2994"),n("2bdd")),l=(n("5246"),n("6b41")),p=(n("b0c0"),n("a434"),n("47c9")),f=n("9521"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"product-content"},[n("van-list",{attrs:{"finished-text":"没有更多了",finished:t.productList["finished"],offset:10},on:{load:t.onLoad},model:{value:t.productList["loading"],callback:function(e){t.$set(t.productList,"loading",e)},expression:"productList['loading']"}},t._l(t.productList.list,(function(e,c){return n("product-item",{key:c,attrs:{product:e},on:{updateClick:function(n){return t.updateClick(e.id)},deleteClick:function(n){return t.deleteClick(e.id,c)}},nativeOn:{click:function(n){return t.itemClick(e.id)}}})})),1),n("div",{staticClass:"addproduct",on:{click:t.addProduct}},[t._v("+")])],1)},m=[],b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"product-item"},[n("van-swipe-cell",{scopedSlots:t._u([{key:"left",fn:function(){return[n("van-button",{staticClass:"delete-button",attrs:{square:"",text:"删除",type:"danger"},on:{click:t.deleteClick}})]},proxy:!0},{key:"right",fn:function(){return[n("van-button",{staticClass:"delete-button",attrs:{square:"",text:"修改",type:"primary"},on:{click:t.updateClick}})]},proxy:!0}])},[n("div",{staticClass:"swipe-cell-box"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.imgList,expression:"imgList"}],staticClass:"item-img"}),n("div",{staticClass:"right-content"},[n("div",{staticClass:"product-row"},[n("h4",[t._v(t._s(t.product.title))])]),n("div",{staticClass:"product-row"},[t._v(" 编码："),n("span",[t._v(t._s(t.product.encoded))])]),n("div",{staticClass:"product-row"},[t._v(" 规格："),n("span",[t._v(t._s(t.product.specs))])]),n("div",{staticClass:"product-row"},[t._v(" 售价："),n("span",{staticStyle:{color:"#ff9f28","font-size":"14px","font-weight":"600"}},[t._v(t._s(t.product.price))])])])])])],1)},v=[],O=(n("c194"),n("7744")),g=(n("66b9"),n("b650")),k=(n("9cb7"),n("66fd")),C=(n("4467"),n("c36e")),j={name:"ProductItem",components:(c={},Object(d["a"])(c,C["a"].name,C["a"]),Object(d["a"])(c,k["a"].name,k["a"]),Object(d["a"])(c,g["a"].name,g["a"]),Object(d["a"])(c,O["a"].name,O["a"]),c),data:function(){return{iconUrl:{},imgList:"https://img.yzcdn.cn/vant/cat.jpeg"}},props:{product:{type:Object,default:function(){return{}}}},methods:{updateClick:function(){this.$emit("updateClick")},deleteClick:function(){this.$emit("deleteClick")}}},w=j,y=(n("462e"),n("2877")),_=Object(y["a"])(w,b,v,!1,null,"de10094a",null),P=_.exports,L={name:"ProductContent",components:(u={},Object(d["a"])(u,s["a"].name,s["a"]),Object(d["a"])(u,"ProductItem",P),u),data:function(){return{}},props:{productList:{type:Object,default:function(){return{}}}},methods:{onLoad:function(){this.$emit("onLoad")},itemClick:function(t){localStorage.setItem("productdetailid",t),this.$router.push({name:"productdetail",params:{id:t}}).catch((function(t){}))},addProduct:function(){this.$router.push("/addproduct").catch((function(t){}))},updateClick:function(t){this.$emit("updateClick",t)},deleteClick:function(t,e){this.$emit("deleteClick",t,e)}}},$=L,x=(n("2bc5"),Object(y["a"])($,h,m,!1,null,"f350da14",null)),S=x.exports,T={name:"Product",components:(a={},Object(d["a"])(a,l["a"].name,l["a"]),Object(d["a"])(a,s["a"].name,s["a"]),Object(d["a"])(a,"SearchBox",f["a"]),Object(d["a"])(a,"ProductContent",S),a),data:function(){return{productObj:{productOne:{page:0,list:[],loading:!1,refreshing:!1,finished:!1,time:0}},currentType:"productOne"}},methods:{searchclick:function(t){this.getProduct(t)},getProduct:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.productObj["productOne"],n=e.page+1;Object(p["f"])(t,n).then((function(t){var n;e.loading=!1,null!=t&&0!==t.length?(e.total=t[0]["count"],(n=e.list).push.apply(n,Object(r["a"])(t)),e.page+=1,e.list.length>=e.total&&(e.finished=!0)):e.finished=!0}))},debounce:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;window.timeout&&clearTimeout(window.timeout),window.timeout=setTimeout((function(){t()}),e)},changeKeys:function(t){var e=this;this.debounce((function(){""==t&&(e.productObj["productOne"].finished=!1),e.productObj["productOne"].list=[],e.productObj["productOne"].page=0,e.getProduct(t)}))},onLoad:function(){this.getProduct()},updateClick:function(t){localStorage.setItem("updateproductid",t),this.$router.push("/updateproduct").catch((function(t){}))},deleteClick:function(t,e){var n=this,c=this;this.$dialog.confirm({title:"警告",message:"请注意该操作不可恢复,是否继续删除该条数据?"}).then((function(){Object(p["c"])(t).then((function(t){setTimeout((function(){c.productObj[n.currentType].list.splice(e,1),c.$toast(t)}),800)}))})).catch((function(){c.$toast("取消")}))}},computed:{currentProduct:function(){return this.productObj["productOne"]}},mounted:function(){}},z=T,I=(n("f27a"),Object(y["a"])(z,i,o,!1,null,"577b70cb",null));e["default"]=I.exports},"52b1":function(t,e,n){},7592:function(t,e,n){},7928:function(t,e,n){},f27a:function(t,e,n){"use strict";n("52b1")}}]);
//# sourceMappingURL=chunk-92ab3ea6.a6d28993.js.map