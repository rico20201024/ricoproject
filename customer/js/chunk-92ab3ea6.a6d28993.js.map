{"version":3,"sources":["webpack:///./src/views/product/childComps/ProductContent.vue?b68c","webpack:///./src/views/product/childComps/ProductItem.vue?d886","webpack:///./src/network/product.js","webpack:///./src/views/product/Product.vue?67fa","webpack:///./src/views/product/childComps/ProductContent.vue?a153","webpack:///./src/views/product/childComps/ProductItem.vue?9a15","webpack:///src/views/product/childComps/ProductItem.vue","webpack:///./src/views/product/childComps/ProductItem.vue?dbb6","webpack:///./src/views/product/childComps/ProductItem.vue","webpack:///src/views/product/childComps/ProductContent.vue","webpack:///./src/views/product/childComps/ProductContent.vue?0073","webpack:///./src/views/product/childComps/ProductContent.vue","webpack:///src/views/product/Product.vue","webpack:///./src/views/product/Product.vue?1def","webpack:///./src/views/product/Product.vue","webpack:///./src/views/product/Product.vue?77b8"],"names":["getProduct","keywords","page","time","request","url","params","getProductDetail","id","addProduct","product","getAllProduct","addProductNeed","updateProductNeed","updateProduct","deleteProductNeed","deleteProduct","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","changeKeys","searchclick","currentProduct","onLoad","updateClick","deleteClick","staticRenderFns","productList","model","value","callback","$$v","$set","expression","_l","item","index","key","$event","nativeOn","itemClick","_v","scopedSlots","_u","fn","proxy","directives","name","rawName","_s","title","encoded","specs","staticStyle","price","components","data","props","methods","component"],"mappings":"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","file":"js/chunk-92ab3ea6.a6d28993.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductContent.vue?vue&type=style&index=0&id=f350da14&scoped=true&lang=css&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductItem.vue?vue&type=style&index=0&id=de10094a&scoped=true&lang=css&\"","import {request} from './request'\n\nexport function getProduct(keywords,page=3,time=0) {\n  return request({\n\turl:'/vuedata/product.php',\n    params:{\n\t\tkeywords,\n\t\tpage,\n\t\ttime,\n    }\n  });\n}\n\nexport function getProductDetail(id) {\n  return request({\n\turl:'/vuedata/productdetail.php',\n    params:{\n\t\tid,\n    }\n  });\n}\n\nexport function addProduct(product) {\n  return request({\n\turl:'/vuedata/addProduct.php',\n    params:{\n\t\tproduct,\n    }\n  });\n}\n\nexport function getAllProduct() {\n  return request({\n\turl:'/vuedata/allproduct.php',\n    params:{\n    }\n  });\n}\n\nexport function addProductNeed(product) {\n  return request({\n\turl:'/vuedata/addProductNeed.php',\n    params:{\n\t\tproduct,\n    }\n  });\n}\n\nexport function updateProductNeed(product) {\n  return request({\n\turl:'/vuedata/updateProductNeed.php',\n    params:{\n\t\tproduct,\n    }\n  });\n}\n\nexport function updateProduct(product) {\n  return request({\n\turl:'/vuedata/updateProduct.php',\n    params:{\n\t\tproduct,\n    }\n  });\n}\n\nexport function deleteProductNeed(product) {\n  return request({\n\turl:'/vuedata/deleteProductNeed.php',\n    params:{\n\t\tproduct,\n    }\n  });\n}\n\nexport function deleteProduct(id) {\n  return request({\n\turl:'/vuedata/deleteProduct.php',\n    params:{\n\t\tid,\n    }\n  });\n}\n\n\n\n\n\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"product\"}},[_c('van-nav-bar',{staticClass:\"product-nav\",attrs:{\"title\":\"产品管理\"}}),_c('search-box',{on:{\"changeKeys\":_vm.changeKeys,\"searchclick\":_vm.searchclick}}),_c('product-content',{attrs:{\"product-list\":_vm.currentProduct},on:{\"onLoad\":_vm.onLoad,\"updateClick\":_vm.updateClick,\"deleteClick\":_vm.deleteClick}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product-content\"},[_c('van-list',{attrs:{\"finished-text\":\"没有更多了\",\"finished\":_vm.productList['finished'],\"offset\":10},on:{\"load\":_vm.onLoad},model:{value:(_vm.productList['loading']),callback:function ($$v) {_vm.$set(_vm.productList, 'loading', $$v)},expression:\"productList['loading']\"}},_vm._l((_vm.productList.list),function(item,index){return _c('product-item',{key:index,attrs:{\"product\":item},on:{\"updateClick\":function($event){return _vm.updateClick(item.id)},\"deleteClick\":function($event){return _vm.deleteClick(item.id,index)}},nativeOn:{\"click\":function($event){return _vm.itemClick(item.id)}}})}),1),_c('div',{staticClass:\"addproduct\",on:{\"click\":_vm.addProduct}},[_vm._v(\"+\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"product-item\"},[_c('van-swipe-cell',{scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('van-button',{staticClass:\"delete-button\",attrs:{\"square\":\"\",\"text\":\"删除\",\"type\":\"danger\"},on:{\"click\":_vm.deleteClick}})]},proxy:true},{key:\"right\",fn:function(){return [_c('van-button',{staticClass:\"delete-button\",attrs:{\"square\":\"\",\"text\":\"修改\",\"type\":\"primary\"},on:{\"click\":_vm.updateClick}})]},proxy:true}])},[_c('div',{staticClass:\"swipe-cell-box\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(_vm.imgList),expression:\"imgList\"}],staticClass:\"item-img\"}),_c('div',{staticClass:\"right-content\"},[_c('div',{staticClass:\"product-row\"},[_c('h4',[_vm._v(_vm._s(_vm.product.title))])]),_c('div',{staticClass:\"product-row\"},[_vm._v(\" 编码：\"),_c('span',[_vm._v(_vm._s(_vm.product.encoded))])]),_c('div',{staticClass:\"product-row\"},[_vm._v(\" 规格：\"),_c('span',[_vm._v(_vm._s(_vm.product.specs))])]),_c('div',{staticClass:\"product-row\"},[_vm._v(\" 售价：\"),_c('span',{staticStyle:{\"color\":\"#ff9f28\",\"font-size\":\"14px\",\"font-weight\":\"600\"}},[_vm._v(_vm._s(_vm.product.price))])])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n<div class=\"product-item\">\n<van-swipe-cell>\n  <div class=\"swipe-cell-box\">\n\t\t<img v-lazy=\"imgList\" class=\"item-img\">\n\t\t<div class=\"right-content\">\n\t\t\t<div class=\"product-row\"><h4>{{product.title}}</h4></div>\n\t\t\t<div class=\"product-row\">\n\t\t\t\t编码：<span>{{product.encoded}}</span>\n\t\t\t</div>\n\t\t\t<div class=\"product-row\">\n\t\t\t\t规格：<span>{{product.specs}}</span>\n\t\t\t</div>\n\t\t\t<div class=\"product-row\">\n\t\t\t\t售价：<span style=\"color:#ff9f28;font-size:14px;font-weight:600;\">{{product.price}}</span>\n\t\t\t</div>\n\t\t</div>\n  </div>\n  <template #left>\n    <van-button square text=\"删除\" type=\"danger\" class=\"delete-button\"  @click=\"deleteClick\"/>\t\n  </template>\n  <template #right>\n    <van-button square  text=\"修改\" type=\"primary\" class=\"delete-button\" @click=\"updateClick\"/>\n  </template>\n</van-swipe-cell>\n\n</div>\n\t\n</template>\n\n<script>\nimport {SwipeCell,Card,Button,Cell} from 'vant'\n\nexport default {\n  name: 'ProductItem',\n  components:{\n\t[SwipeCell.name]:SwipeCell,\n\t[Card.name]:Card,\n\t[Button.name]:Button,\n\t[Cell.name]:Cell,\n  },\n  data(){\n\treturn{\n\t\ticonUrl:{},\n\t\timgList:\"https://img.yzcdn.cn/vant/cat.jpeg\",\n\t}\n  },\n  props:{\n\tproduct:{\n\t\ttype:Object,\n\t\tdefault(){\n\t\t\treturn {}\n\t\t},\n\t},\n  },\n  methods:{\n\tupdateClick(){\n\t\t//向上一级返回事件\n\t\tthis.$emit('updateClick')\n\t},\n\tdeleteClick(){\n\t\t//向上一级返回事件\n\t\tthis.$emit('deleteClick')\n\t}\n  }\n}\n</script>\n\n<style scoped>\ni{\n\tfont-style:normal;\n}\n*{\n\tpadding:0;\n\tmargin:0;\n}\n.product-item{\n\toverflow:hidden;\n\tcolor:#4a4a4a;\n\tfont-size:14px;\n\tborder-bottom:1px solid #d7d7d7;\n\tmargin-top:8px;\n\tbackground:white;\n}\n.delete-button {\n    height: 100%;\n\tpadding:0 10px;\n}\n.swipe-cell-box{\n\tpadding:8px;\n\tdisplay:flex;\n}\n.item-img{\n\twidth:100px;\n\theight:80px;\n\tmargin-right:10px;\n\tdisplay:block;\n}\n.right-content{\n\tflex:1;\n}\n.right-content .product-row{\n\tline-height:20px;\n\tpadding:0 10px;\n\tfont-size:13px;\n\tcolor:#524c4c;\n}\n.right-content .product-row h4{\n\tcolor:#222222;\n\tfont-size:15px;\n\tmargin-bottom:5px;\n}\n.product-row span{\n\tmargin-left:15px;\n}\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductItem.vue?vue&type=template&id=de10094a&scoped=true&\"\nimport script from \"./ProductItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductItem.vue?vue&type=style&index=0&id=de10094a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"de10094a\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div class=\"product-content\">\n<van-list\n  v-model=\"productList['loading']\"\n  finished-text=\"没有更多了\"\n  :finished=\"productList['finished']\"\n  @load=\"onLoad\"\n  :offset=\"10\"\n>\n\t<!--列表-->\n\t<product-item v-for=\"(item,index) in productList.list\" \n\t\t:product=\"item\" \n\t\t:key=\"index\"\n\t\t@click.native=\"itemClick(item.id)\"\n\t\t@updateClick=\"updateClick(item.id)\"\n\t\t@deleteClick=\"deleteClick(item.id,index)\"\n\t/>\n</van-list>\n<div class=\"addproduct\" @click=\"addProduct\">+</div>\n</div>\n\t\n</template>\n\n<script>\n\nimport { List } from 'vant';\nimport ProductItem from './ProductItem'\n\nexport default {\n  name: 'ProductContent',\n  components:{\n\t[List.name]:List,\n\tProductItem\n  },\n  data(){\n\treturn{\n\t}\n  },\n  props:{\n\tproductList:{\n\t\ttype:Object,\n\t\tdefault(){\n\t\t\treturn {}\n\t\t}\n\t}\n  },\n  methods:{\n\tonLoad(){\n\t\tthis.$emit('onLoad')\n\t},\n\t//详细点击\n\titemClick(id){\n\t\t//放入缓存\n\t\tlocalStorage.setItem(\"productdetailid\",id);\n\t\t//console.log(id)\n\t\t//这个id刷新有问题 需要保存到缓存里面\n\t\tthis.$router.push({name:'productdetail',params:{id:id}}).catch(res=>{res})\n\t},\n\t//添加商品\n\taddProduct(){\n\t\tthis.$router.push('/addproduct').catch(res=>{res})\n\t},\n\t//修改\n\tupdateClick(id){\n\t\tthis.$emit('updateClick',id)\n\t},\n\t//删除\n\tdeleteClick(id,index){\n\t\tthis.$emit('deleteClick',id,index)\n\t}\n  }\n}\n</script>\n\n<style scoped>\n*{\n\tmargin:0;\n\tpadding:0;\n}\n\n.product-content{\n    position: relative;\n\theight:calc(100% - 130px);\n\tpadding:0 10px;\n    right: 0;\n    left: 0;\n\toverflow:auto;\n}\n.addproduct{\n\tposition:fixed;\n\tbottom:80px;\n\tright:30px;\n\tborder-radius:25px;\n\tborder:1px solid #8fa2ff;\n\twidth:40px;\n\theight:40px;\n\tbackground:#8fa2ff;\n\tfont-size:18px;\n\tcolor:white;\n\ttext-align:center;\n\tline-height:40px;\n\tz-index:99;\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductContent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductContent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductContent.vue?vue&type=template&id=f350da14&scoped=true&\"\nimport script from \"./ProductContent.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductContent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductContent.vue?vue&type=style&index=0&id=f350da14&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"f350da14\",\n  null\n  \n)\n\nexport default component.exports","<template>\n<div id=\"product\">\n\t<!--2-->\n\t<van-nav-bar\n\t\ttitle=\"产品管理\"\n\t\tclass=\"product-nav\"\n\t/>\n\t<!--搜索框-->\n\t<search-box @changeKeys=\"changeKeys\" @searchclick=\"searchclick\"/>\n\t<!--内容-->\n\t<product-content @onLoad=\"onLoad\" :product-list=\"currentProduct\" @updateClick=\"updateClick\" @deleteClick=\"deleteClick\"/>\n</div>\n\t\n</template>\n\n<script>\nimport { NavBar,List  } from 'vant'\nimport {getProduct,deleteProduct} from 'network/product'\nimport SearchBox from 'components/common/searchbox/SearchBox'\nimport ProductContent from './childComps/ProductContent'\n\nexport default {\n  name: 'Product',\n\tcomponents:{\n\t\t[NavBar.name]:NavBar,\n\t\t[List .name]:List ,\n\t\tSearchBox,\n\t\tProductContent\n\t},\n\tdata(){\n\t\treturn{\n\t\t\tproductObj:{\n\t\t\t\tproductOne:{\n\t\t\t\t\tpage:0,\n\t\t\t\t\tlist:[],\n\t\t\t\t\tloading: false,\n\t\t\t\t\trefreshing:false,\n\t\t\t\t\tfinished: false,\n\t\t\t\t\t//total:30,\t\t\t\t//同类型数据一共有多少条\n\t\t\t\t\ttime:0,\n\t\t\t\t}\n\t\t\t},\n\t\t\tcurrentType:'productOne',\n\t\t}\n\t},\n\tmethods:{\n\t\t//发送数据\n\t\tsearchclick(keywords){\n\t\t\t//再次发送获取数据\n\t\t\tthis.getProduct(keywords)\n\t\t},\n\t\t//获取数据\n\t\tgetProduct(keywords=''){\n\t\t\tlet product=this.productObj['productOne']\n\t\t\tlet page=product.page+1\n\t\t\t\n\t\t\t//获取数据\n\t\t\tgetProduct(keywords,page).then(res=>{\n\t\t\t\tproduct.loading=false\n\t\t\t\tif (res == null || res.length === 0) {\n\t\t\t\t\t// 加载结束\n\t\t\t\t\t\tproduct.finished = true;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tproduct.total=res[0]['count']\n\t\t\t\t\tproduct.list.push(...res)\t\t\t\t//放入数据\n\t\t\t\t\tproduct.page+=1\n\t\t\t\t\t//如果列表数据条数>=总条数，不再触发滚动加载\n\t\t\t\t\tif (product.list.length >= product.total) {\n\t\t\t\t\t\tproduct.finished = true;\n\t\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t//防抖\n\t\tdebounce(fn, wait = 500){\n\t\t\tif (window.timeout) clearTimeout(window.timeout)\n\t\t\t\twindow.timeout = setTimeout(() => {\n\t\t\t\t\tfn()\n\t\t\t\t}, wait)\n\t\t},\n\t\t//搜索框的修改内容按钮\n\t\tchangeKeys(keywords){\n\t\t\tthis.debounce(()=>{\n\t\t\t\t//继续加载\n\t\t\t\tif(keywords==\"\"){\n\t\t\t\t\tthis.productObj['productOne'].finished = false\n\t\t\t\t}\n\t\t\t\t//将数组清空\n\t\t\t\tthis.productObj['productOne'].list=[]\n\t\t\t\t//重置页码\n\t\t\t\tthis.productObj['productOne'].page=0\n\t\t\t\t//再次发送获取数据\n\t\t\t\tthis.getProduct(keywords)\n\t\t\t})\n\t\t},\n\t\t//子页面加载数据\n\t\tonLoad(){\n\t\t\tthis.getProduct()\n\t\t},\n\t\t//修改商品\n\t\tupdateClick(id){\n\t\t\t//设置缓存\n\t\t\tlocalStorage.setItem('updateproductid',id)\n\t\t\t//跳转页面\n\t\t\tthis.$router.push('/updateproduct').catch(err=>{err})\n\t\t},\n\t\t//删除商品\n\t\tdeleteClick(id,index){\n\t\t\tlet _self=this\n\t\t\t//先来个弹窗警告\n\t\t\tthis.$dialog.confirm({\n\t\t\t\ttitle: '警告',\n\t\t\t\tmessage:\n\t\t\t\t\t'请注意该操作不可恢复,是否继续删除该条数据?',\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\t//删除数据库里的(数据库有必要给一个删除成功与否的标识)\n\t\t\t\t\t//先删除数据库里面的在删除数组的\n\t\t\t\t\tdeleteProduct(id).then(res=>{\n\t\t\t\t\t\tsetTimeout(()=>{\n\t\t\t\t\t\t\t//删除原来那个数组选中下标的那个数据\n\t\t\t\t\t\t\t_self.productObj[this.currentType].list.splice(index,1)\t\t\t//删除数组index下边的值\n\t\t\t\t\t\t\t_self.$toast(res)\n\t\t\t\t\t\t},800)\n\t\t\t\t\t})\n\t\t\t\t\t// on confirm\n\t\t\t\t\t//这里确定了就删除指定数组的下标数据\n\t\t\t\t})\n\t\t\t\t.catch(() => {\n\t\t\t\t\t// on cancel\n\t\t\t\t\t_self.$toast('取消')\n\t\t\t});\n\t\t}\n\t},\n\tcomputed:{\n\t\tcurrentProduct(){\n\t\t\treturn this.productObj['productOne']\n\t\t}\n\t},\n\t//挂载数据\n\tmounted(){\n\t\t//this.getProduct()\n\t\t//console.log(this.productObj['productOne'].list)\n\t},\n}\n</script>\n\n<style scoped>\n*{\n\tmargin:0;\n\tpadding:0;\n}\n#product{\n    height: 100vh;\n    position: relative;\n}\n.product-nav{\n\tbackground:#516df5;\n\tposition:relative;\n\twidth:100%;\n}\n.product-content1{\n    /*height:300px;*/\n    position: relative;\n\theight:calc(100% - 102px);\n    right: 0;\n    left: 0;\n\toverflow:auto;\n}\n.nav{\n\ttop:0;\n\tleft:0;\n\twidth:100%;\n}\n\n/deep/ .van-ellipsis {\n\tcolor: white;\n}\n/deep/ .van-nav-bar__text {\n\tcolor: white;\n}\n\n  .my-swipe .van-swipe-item {\n    color: #fff;\n    font-size: 20px;\n    line-height: 200px;\n    text-align: center;\n    background-color: #39a9ed;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Product.vue?vue&type=template&id=577b70cb&scoped=true&\"\nimport script from \"./Product.vue?vue&type=script&lang=js&\"\nexport * from \"./Product.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Product.vue?vue&type=style&index=0&id=577b70cb&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"577b70cb\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Product.vue?vue&type=style&index=0&id=577b70cb&scoped=true&lang=css&\""],"sourceRoot":""}