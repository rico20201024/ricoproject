(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4afec588"],{1580:function(t,r,e){},"159b":function(t,r,e){var c=e("da84"),s=e("fdbc"),n=e("785a"),o=e("17c2"),a=e("9112"),i=function(t){if(t&&t.forEach!==o)try{a(t,"forEach",o)}catch(r){t.forEach=o}};for(var u in s)s[u]&&i(c[u]&&c[u].prototype);i(n)},"17c2":function(t,r,e){"use strict";var c=e("b727").forEach,s=e("a640"),n=s("forEach");t.exports=n?[].forEach:function(t){return c(this,t,arguments.length>1?arguments[1]:void 0)}},"2a32":function(t,r,e){},"329f":function(t,r,e){t.exports=e.p+"img/prev2.cc762a0e.svg"},"401a":function(t,r,e){},4540:function(t,r,e){t.exports=e.p+"img/cart.9bf8c932.svg"},"47c9":function(t,r,e){"use strict";e.d(r,"c",(function(){return s})),e.d(r,"e",(function(){return n})),e.d(r,"d",(function(){return o})),e.d(r,"a",(function(){return a})),e.d(r,"b",(function(){return i}));var c=e("1bab");function s(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object(c["a"])({url:"/vue/VueProjectData/manager/addgoods.php",params:{obj:t,page:r}})}function n(t){return Object(c["a"])({url:"/vue/VueProjectData/manager/uploadimg.php",params:{imgs:t}})}function o(t){return Object(c["a"])({url:"/vue/VueProjectData/manager/updategoods.php",params:{obj:t}})}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"allSelect",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2?arguments[2]:void 0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Object(c["a"])({url:"/vue/VueProjectData/manager/product.php",params:{typeid:s,type:t,productname:e,page:r}})}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return Object(c["a"])({url:"/vue/VueProjectData/manager/productdetail.php",params:{id:t}})}},4939:function(t,r,e){"use strict";e("69d8")},"4ad4":function(t,r,e){"use strict";e("a8e7")},"4b45":function(t,r,e){},"4b46":function(t,r,e){"use strict";var c=function(){var t=this,r=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"top-search"},[e("div",{staticClass:"searc-box"},[t._v(" 搜索框 ")])])}],n={name:"TopSearchInput",components:{}},o=n,a=(e("4d36"),e("2877")),i=Object(a["a"])(o,c,s,!1,null,null,null);r["a"]=i.exports},"4b9e":function(t,r,e){"use strict";e("1580")},"4d36":function(t,r,e){"use strict";e("401a")},"4d49":function(t,r,e){},"59a1":function(t,r,e){"use strict";e("4d49")},6995:function(t,r,e){"use strict";e("fafc")},"69d8":function(t,r,e){},"6fb5":function(t,r,e){t.exports=e.p+"img/cartdefault.afe31efd.svg"},"848c":function(t,r,e){"use strict";e("4b45")},a640:function(t,r,e){"use strict";var c=e("d039");t.exports=function(t,r){var e=[][t];return!!e&&c((function(){e.call(null,r||function(){return 1},1)}))}},a7ac:function(t,r,e){"use strict";var c=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"nar-bar"},[e("div",{staticClass:"left"},[t._t("left")],2),e("div",{staticClass:"center"},[t._t("center")],2),e("div",{staticClass:"right"},[t._t("right")],2)])},s=[],n={name:"NavBar"},o=n,a=(e("b38e"),e("2877")),i=Object(a["a"])(o,c,s,!1,null,"0e37ea4e",null);r["a"]=i.exports},a8e7:function(t,r,e){},b38e:function(t,r,e){"use strict";e("b3b5")},b3b5:function(t,r,e){},d669:function(t,r,e){"use strict";e.r(r);var c=function(){var t=this,r=t.$createElement,c=t._self._c||r;return c("div",{staticClass:"order-product"},[c("nav-bar",{staticClass:"product-nav-bar"},[c("div",{staticClass:"icon-left",attrs:{slot:"left"},on:{click:t.backClick},slot:"left"},[c("img",{attrs:{src:e("329f")}})]),c("div",{attrs:{slot:"center"},slot:"center"},[t._v(" "+t._s(t.title)+" ")]),c("div",{attrs:{slot:"right"},slot:"right"},[t._v(" 图标 ")])]),c("scroll",{ref:"scroller",staticClass:"product-scroller",attrs:{"probe-type":3},on:{pullingup:t.loadMore,bscroll:t.bscroll}},[c("product-navs",{nativeOn:{click:function(r){return t.filterClick.apply(null,arguments)}}}),c("product-content",{attrs:{"products-arr":t.productsArrs}})],1),c("div",{staticClass:"create-product",on:{click:t.createClick}},[t._v("+")]),c("add-tabbar")],1)},s=[],n=e("2909"),o=(e("d3b7"),e("159b"),e("a7ac")),a=e("5d17"),i=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"product-navs"},[e("product-search")],1)},u=[],l=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"product-search"},[e("top-search-input")],1)},d=[],p=e("4b46"),f={name:"ProductSearch",components:{TopSearchInput:p["a"]}},h=f,v=e("2877"),b=Object(v["a"])(h,l,d,!1,null,null,null),m=b.exports,g={name:"ProductNavs",components:{ProductSearch:m},methods:{BtnClick:function(t){console.log(t)}}},C=g,k=(e("6995"),Object(v["a"])(C,i,u,!1,null,null,null)),_=k.exports,j=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"product-content"},[t.productsArr.length>1?e("div",t._l(t.productsArr,(function(t,r){return e("product-item",{key:r,attrs:{"product-obj":t}})})),1):e("div",{staticClass:"empty-box"},[e("h4",{staticClass:"nothink"},[t._v("空空荡荡")]),e("h4",{staticClass:"palss-add"},[t._v("请赶紧添加商品吧")])])])},y=[],O=function(){var t=this,r=t.$createElement,c=t._self._c||r;return c("div",{staticClass:"product-item",on:{click:function(r){return r.stopPropagation(),t.itemClick.apply(null,arguments)}}},[c("img",{attrs:{src:e("ebc0")}}),c("div",{staticClass:"products-box"},[c("h4",{staticClass:"p-title"},[t._v(t._s(t.productObj.title))]),c("div",{staticClass:"product-info"},[c("span",{staticClass:"p-key"},[t._v("货 号：")]),c("span",{staticClass:"p-value"},[t._v(t._s(t.productObj.encoded))])]),c("div",{staticClass:"product-info"},[c("span",{staticClass:"p-key"},[t._v("库存：")]),c("span",{staticClass:"p-value pred"},[t._v(t._s(t.productObj.stock))])]),c("div",{staticClass:"product-info"},[c("span",{staticClass:"p-key"},[t._v("售价：")]),c("span",{staticClass:"p-value p-price"},[t._v("￥"+t._s(t.productObj.price))])]),c("operation-product",{attrs:{"product-obj":t.productObj}})],1)])},S=[],$=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"operation-product",on:{click:function(r){return r.stopPropagation(),t.pClick.apply(null,arguments)}}},[e("btn",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"btnleft",attrs:{title:"-"},on:{btnClick:t.cut}}),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"show-num"},[t._v(t._s(t.num))]),e("btn",{staticClass:"btnright",attrs:{title:"+"},on:{btnClick:t.add}})],1)},w=[],x=function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"operation-icon",on:{click:function(r){return r.stopPropagation(),t.btnClick.apply(null,arguments)}}},[t._v(" "+t._s(t.title)+" ")])},P=[],A={name:"Btn",components:{},props:{title:{type:String,default:"+"}},methods:{btnClick:function(){this.$emit("btnClick")}}},T=A,E=(e("4939"),Object(v["a"])(T,x,P,!1,null,null,null)),M=E.exports,D={name:"OperationProduct",components:{Btn:M},props:{productObj:{type:Object,default:function(){return{}}}},data:function(){return{num:0}},methods:{add:function(){var t=this;this.num++,this.$store.dispatch("addOrderProduct",this.productObj).then((function(r){t.$toast.show(r,3e3)}))},cut:function(){var t=this;this.num<=0||(this.num--,this.$store.dispatch("cutOrderProduct",this.productObj).then((function(r){t.$toast.show(r,3e3)})))},pClick:function(){}},computed:{isShow:function(){return this.num}},created:function(){}},I=D,N=(e("4b9e"),Object(v["a"])(I,$,w,!1,null,null,null)),B=N.exports,G={name:"ProductItem",components:{OperationProduct:B},props:{productObj:{type:Object,default:function(){return{}}}},methods:{itemClick:function(){console.log("出现一个选项框")},add:function(){this.$store.dispatch("addTest",{id:1}).then((function(t){console.log(t)}))},cut:function(){}},computed:{}},V=G,H=(e("4ad4"),Object(v["a"])(V,O,S,!1,null,null,null)),L=H.exports,W={name:"ProductContent",components:{ProductItem:L},props:{productsArr:{type:Array,default:function(){return[]}}},data:function(){return{}},methods:{}},J=W,U=(e("59a1"),Object(v["a"])(J,j,y,!1,null,null,null)),q=U.exports,z=function(){var t=this,r=t.$createElement,c=t._self._c||r;return c("div",{staticClass:"buytabbar"},[c("div",{staticClass:"buy-icon buyleft"},[t.cartNum?c("div",{staticClass:"cartpd10"},[c("img",{staticClass:"cart-img",attrs:{src:e("4540")},on:{click:t.cartClick}}),c("span",{staticClass:"cart-show-message"},[t._v(t._s(t.$store.getters.getOrderProduct.length))])]):c("div",{staticClass:"cartpd10"},[c("img",{staticClass:"cart-img",attrs:{src:e("6fb5")},on:{click:t.cartClick}})])]),c("div",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.orderProductList.length,expression:"$store.state.orderProductList.length"}],staticClass:"buy-icon buy-right",on:{click:t.successClick}},[t._v("添加完成")])])},F=[],K={name:"AddTabbar",components:{},methods:{successClick:function(){this.$router.go(-1)},cartClick:function(){this.$router.push("/cartlist").catch((function(t){}))}},created:function(){},computed:{cartNum:function(){return this.$store.state.orderProductList.length}}},Q=K,R=(e("848c"),Object(v["a"])(Q,z,F,!1,null,null,null)),X=R.exports,Y=e("47c9"),Z={name:"OrderProduct",components:{NavBar:o["a"],Scroll:a["a"],ProductNavs:_,ProductContent:q,AddTabbar:X},data:function(){return{title:"产品列表",banners:[],roleArr:[],productsArr:{allSelect:{list:[],page:0,isMore:!0},TodayChange:{list:[],page:0,isMore:!0},StockShort:{list:[],page:0,isMore:!0},StockMore:{list:[],page:0,isMore:!0}},currentType:"allSelect",topIsShow:!1,kuCunMinObj:{HuaWei:{maxstock:300,minstock:10},Iphone:{maxstock:20,minstock:10}}}},methods:{createClick:function(){this.$router.push("/addgoods").catch((function(t){}))},backClick:function(){this.$router.go(-1)},BtnClick:function(t){switch(t){case-1:this.currentType="allSelect";break;case 0:this.currentType="TodayChange";break;case 1:this.currentType="StockShort";break;case 2:this.currentType="StockMore";break}this.$refs.nav1.currentIndex=t,this.$refs.nav2.currentIndex=t,console.log(this.currentType)},bscroll:function(t){var r=-t.y;this.topIsShow=r>46},filterArrstock:function(){var t=this;this.productsArr.StockShort.list=[],this.productsArr.StockMore.list=[],this.productsArr["allSelect"].list.forEach((function(r){r.stock<t.kuCunMinObj.HuaWei.minstock?t.productsArr.StockShort.list.push(r):r.stock>t.kuCunMinObj.HuaWei.maxstock&&t.productsArr.StockMore.list.push(r)}))},getGoodsDatas:function(t,r){var e=this,c=this.productsArr[t].page+1;Object(Y["a"])(t,c,r).then((function(r){var c;(c=e.productsArr[t].list).push.apply(c,Object(n["a"])(r)),e.productsArr[t].page+=1,r.length<=0&&(e.productsArr[t].isMore=!1)}))},loadMore:function(){var t=this;r&&clearTimeout(r);var r=setTimeout((function(){t.getGoodsDatas(t.currentType,""),t.productsArr[t.currentType].isMore&&t.$refs.scroller.finishPullUp(),t.$refs.scroller.refresh()}),50)},filterClick:function(){console.log("筛选")}},computed:{productsArrs:function(){return this.productsArr[this.currentType].list}},mounted:function(){},created:function(){this.getGoodsDatas("TodayChange",""),this.getGoodsDatas("allSelect",""),this.getGoodsDatas("StockShort",""),this.getGoodsDatas("StockMore","")}},tt=Z,rt=(e("de42"),Object(v["a"])(tt,c,s,!1,null,null,null));r["default"]=rt.exports},de42:function(t,r,e){"use strict";e("2a32")},ebc0:function(t,r,e){t.exports=e.p+"img/product-default.99dce88d.svg"},fafc:function(t,r,e){}}]);
//# sourceMappingURL=chunk-4afec588.5cd4e70d.js.map